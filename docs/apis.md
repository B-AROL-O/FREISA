---
id: apis
author: Davide Macario
date: 2025-08-27
---

# FREISA - APIs

This document describes the APIs that are available in FREISA.

## OAK-D Lite Module

The [OAK-D lite module](../code/oak-d-lite-module/) exposes an HTTP API that is used to control the camera.
Specifically, it allows to perform model selection and to retrieve inference results.

API:

- HTTP GET:
  - `/`: returns the GET API information.
  - `/last_inference`: returns the latest inference results in JSON format.
  - `/models_info`: returns information about the available models.
  - `/model`: returns information about the currently loaded model (if any).
- HTTP POST:
  - `/`: returns the POST API information.
  - `/change_model?model=<model_name>`: switch the current active model for the one whose name is specified.

## Robot Movement

In order to control the robot movement, it is necessary to publish messages over UDP over port 8830.

The messages are in JSON format and are meant to be generated by a controller.
Schema:

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ControllerState",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "ly",
    "lx",
    "rx",
    "ry",
    "L2",
    "R2",
    "R1",
    "L1",
    "dpady",
    "dpadx",
    "x",
    "square",
    "circle",
    "triangle",
    "message_rate"
  ],
  "properties": {
    "ly": {
      "type": "number",
      "description": "Left stick Y‑axis"
    },
    "lx": {
      "type": "number",
      "description": "Left stick X‑axis"
    },
    "rx": {
      "type": "number",
      "description": "Right stick X‑axis"
    },
    "ry": {
      "type": "number",
      "description": "Right stick Y‑axis"
    },
    "L2": {
      "type": "number",
      "description": "Left trigger"
    },
    "R2": {
      "type": "number",
      "description": "Right trigger"
    },
    "R1": {
      "type": "number",
      "description": "Right bumper"
    },
    "L1": {
      "type": "number",
      "description": "Left bumper"
    },
    "dpady": {
      "type": "number",
      "description": "D‑pad vertical axis"
    },
    "dpadx": {
      "type": "number",
      "description": "D‑pad horizontal axis"
    },
    "x": {
      "type": "number",
      "description": "X button"
    },
    "square": {
      "type": "number",
      "description": "Square button"
    },
    "circle": {
      "type": "number",
      "description": "Circle button"
    },
    "triangle": {
      "type": "number",
      "description": "Triangle button"
    },
    "message_rate": {
      "type": "number",
      "description": "Rate at which messages are sent (units defined by your application)"
    }
  },
  "example": {
    "ly": 0.0,
    "lx": 0.0,
    "rx": 0.0,
    "ry": 0.0,
    "L2": 0.0,
    "R2": 0.0,
    "R1": 0.0,
    "L1": 0.0,
    "dpady": 0.0,
    "dpadx": 0.0,
    "x": 0.0,
    "square": 0.0,
    "circle": 0.0,
    "triangle": 0.0,
    "message_rate": 30
  }
}
```
